require('../../../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageA/uni_modules/zero-markdown-view/components/mp-html/node/node"],{2933:function(t,e,r){"use strict";var o=r("b171"),i=r.n(o);i.a},"3d48":function(t,e,r){"use strict";r.r(e);var o=r("d46e"),i=r("dc39");for(var n in i)["default"].indexOf(n)<0&&function(t){r.d(e,t,(function(){return i[t]}))}(n);r("2933");var s=r("f0c5"),a=r("c8cf"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);"function"===typeof a["a"]&&Object(a["a"])(c),e["default"]=c.exports},"51d3":function(t,e,r){"use strict";(function(t){var o=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r("9523"));function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){(0,i.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var a={name:"node",options:{virtualHost:!0},data:function(){return{ctrl:{},isiOS:t.getSystemInfoSync().system.includes("iOS")}},props:{name:String,attrs:{type:Object,default:function(){return{}}},childs:Array,opts:Array},components:{node:function(){Promise.resolve().then(function(){return resolve(r("3d48"))}.bind(null,r)).catch(r.oe)}},mounted:function(){var t=this;this.$nextTick((function(){for(t.root=t.$parent;"mp-html"!==t.root.$options.name;t.root=t.root.$parent);}))},beforeDestroy:function(){},methods:{handleNodeClick:function(e){"hl-pre"==e.attrs.class&&t.setClipboardData({data:e.attrs["data-content"],showToast:!1,success:function(){t.showToast({title:"代码复制成功",duration:1e3})},fail:function(t){console.log("err",t)}})},toJSON:function(){return this},play:function(e){var r=e.currentTarget.dataset.i,o=this.childs[r];if(this.root.$emit("play",{source:o.name,attrs:s(s({},o.attrs),{},{src:o.src[this.ctrl[r]||0]})}),this.root.pauseVideo){for(var i=!1,n=e.target.id,a=this.root._videos.length;a--;)this.root._videos[a].id===n?i=!0:this.root._videos[a].pause();if(!i){var c=t.createVideoContext(n,this);c.id=n,this.root.playbackRate&&c.playbackRate(this.root.playbackRate),this.root._videos.push(c)}}},imgTap:function(e){var r=this.childs[e.currentTarget.dataset.i];r.a?this.linkTap(r.a):r.attrs.ignore||(this.root.$emit("imgtap",r.attrs),this.root.previewImg&&t.previewImage({showmenu:this.root.showImgMenu,current:parseInt(r.attrs.i),urls:this.root.imgList}))},imgLongTap:function(t){},imgLoad:function(t){var e=t.currentTarget.dataset.i;this.childs[e].w?(this.opts[1]&&!this.ctrl[e]||-1===this.ctrl[e])&&this.$set(this.ctrl,e,1):this.$set(this.ctrl,e,t.detail.width),this.checkReady()},checkReady:function(){var t=this;this.root&&!this.root.lazyLoad&&(this.root._unloadimgs-=1,this.root._unloadimgs||setTimeout((function(){t.root.getRect().then((function(e){t.root.$emit("ready",e)})).catch((function(){t.root.$emit("ready",{})}))}),350))},linkTap:function(e){var r=e.currentTarget?this.childs[e.currentTarget.dataset.i]:{},o=r.attrs||e,i=o.href;this.root.$emit("linktap",Object.assign({innerText:this.root.getText(r.children||[])},o)),i&&("#"===i[0]?this.root.navigateTo(i.substring(1)).catch((function(){})):i.split("?")[0].includes("://")?this.root.copyLink&&t.setClipboardData({data:i,success:function(){return t.showToast({title:"链接已复制"})}}):t.navigateTo({url:i,fail:function(){t.switchTab({url:i,fail:function(){}})}}))},mediaError:function(t){var e=t.currentTarget.dataset.i,r=this.childs[e];if("video"===r.name||"audio"===r.name){var o=(this.ctrl[e]||0)+1;if(o>r.src.length&&(o=0),o<r.src.length)return void this.$set(this.ctrl,e,o)}else"img"===r.name&&(this.opts[2]&&this.$set(this.ctrl,e,-1),this.checkReady());this.root&&this.root.$emit("error",{source:r.name,attrs:r.attrs,errMsg:t.detail.errMsg})}}};e.default=a}).call(this,r("543d")["default"])},b171:function(t,e,r){},c8cf:function(t,e,r){"use strict";e["a"]=function(t){t.options.wxsCallMethods||(t.options.wxsCallMethods=[])}},d46e:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){}));var o=function(){var t=this.$createElement;this._self._c},i=[]},dc39:function(t,e,r){"use strict";r.r(e);var o=r("51d3"),i=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(n);e["default"]=i.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'packageA/uni_modules/zero-markdown-view/components/mp-html/node/node-create-component',
    {
        'packageA/uni_modules/zero-markdown-view/components/mp-html/node/node-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("3d48"))
        })
    },
    [['packageA/uni_modules/zero-markdown-view/components/mp-html/node/node-create-component']]
]);
